<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

  <title>Register New User Form</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Reference Bootstrap files -->
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

  <script	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<!--  <link rel="stylesheet" th:src="@{/style.css}"/>"/>-->
  <style>
    .error {color:red}
  </style>

</head>

<body>

<div>

  <div id="loginbox" style="margin-top: 50px;"
       class="mainbox col-md-3 col-md-offset-2 col-sm-6 col-sm-offset-2">

    <div class="panel panel-primary">

      <div class="panel-heading">
        <div class="panel-title">Register New User</div>
      </div>

      <div style="padding-top: 30px" class="panel-body">

        <!-- Registration Form -->
        <form th:action="@{/register}"
              th:object="${user}" method="POST"
              onsubmit="checkPasswordMatch(this)"
              class="form-horizontal">

          <!-- User name -->
          <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <label th:if="${#fields.hasErrors('username')}" th:errors="*{username}"
                   class="validation-message text-danger"></label>
            <input type="text" th:field="*{username}" placeholder="username (*)" class="form-control" />
          </div>

          <!-- Password -->
          <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
            <label th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                   class="validation-message text-danger"></label>
            <input type="password" th:id="password" th:field="*{password}" placeholder="podaj hasło (*)" class="form-control" th:errorclass="fieldError" required/>
          </div>

          <!-- Confirm Password -->
          <div style="margin-bottom: 25px" class="input-group">
             <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
            <label th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"
                   class="validation-message text-danger"></label>
             <input type="password" th:name="confirmPassword" th:id="confirmPassword" th:field="*{confirmPassword}" placeholder="powtórz hasło (*)" class="form-control" th:errorclass="fieldError" required th:onkeyup="checkPasswordMatch()"/>
            <span id="wrong_password"></span>
           </div>


          <!-- First name -->
          <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <label th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"
                   class="validation-message text-danger"></label>
            <input type="text" th:field="*{firstName}" placeholder="first name (*)" class="form-control" th:errorclass="fieldError" />
          </div>

          <!-- Last name -->
          <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <label th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"
                   class="validation-message text-danger"></label>
            <input type="text" th:field="*{lastName}" placeholder="last name (*)" class="form-control" th:errorclass="fieldError" />
          </div>

          <!-- Email -->
          <div style="margin-bottom: 25px" class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <label th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                   class="validation-message text-danger"></label>
            <input type="text" th:field="*{email}" placeholder="email (*)" class="form-control" th:errorclass="fieldError" />
          </div>


          <!-- Register Button -->
          <div style="margin-top: 10px" class="form-group">
            <div class="col-sm-6 controls">
              <button type="submit" class="btn btn-primary">Register</button>
            </div>
          </div>

        </form>

      </div>

    </div>

  </div>

</div>
<script type="text/javascript" th:src="@{/app.js}"></script>
</body>
</html>